# AI Development System - Environment Variables for Complete Automation
# ëª¨ë“  í„°ë¯¸ë„ í™•ì¸ í”„ë¡¬í”„íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë“¤

# ============================================================================
# ê¸°ë³¸ ìë™í™” ì„¤ì •
# ============================================================================
export CI=true
export FORCE_COLOR=1
export npm_config_yes=true
export DEBIAN_FRONTEND=noninteractive
export PYTHONUNBUFFERED=1

# ============================================================================
# AI ê°œë°œ ì‹œìŠ¤í…œ íŠ¹í™” ì„¤ì •
# ============================================================================
export COPILOT_AUTO_ACCEPT=true
export AI_DEV_AUTO_MODE=true
export VSCODE_AUTO_MODE=true
export TERMINAL_AUTO_CONFIRM=true

# ============================================================================
# Node.js/NPM ìë™í™”
# ============================================================================
export NPM_CONFIG_YES=true
export NPM_CONFIG_AUDIT=false
export NPM_CONFIG_FUND=false
export NPM_CONFIG_UPDATE_NOTIFIER=false
export NPM_CONFIG_OPTIONAL=false
export NPM_CONFIG_PROGRESS=false
export NPM_CONFIG_LOGLEVEL=silent
export YARN_SILENT=1
export NODE_NO_WARNINGS=1
export NODEMON_AUTO_RESTART=true

# ============================================================================
# Git ìë™í™”
# ============================================================================
export GIT_TERMINAL_PROMPT=0
export GIT_ASKPASS=/bin/false
export SSH_ASKPASS=/bin/false
export GIT_SSH_COMMAND="ssh -o BatchMode=yes -o StrictHostKeyChecking=no"
export GIT_DISCOVERY_ACROSS_FILESYSTEM=1

# ============================================================================
# íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìë™í™” (macOS/Linux)
# ============================================================================
export HOMEBREW_NO_INSTALL_CLEANUP=1
export HOMEBREW_NO_AUTO_UPDATE=1
export HOMEBREW_NO_ANALYTICS=1
export HOMEBREW_NO_EMOJI=1
export HOMEBREW_INSTALL_BADGE=""

# Python pip ìë™í™”
export PIP_YES=1
export PIP_QUIET=1
export PIP_DISABLE_PIP_VERSION_CHECK=1
export PYTHONDONTWRITEBYTECODE=1

# ============================================================================
# í„°ë¯¸ë„/Shell ìë™í™”
# ============================================================================
export SHELL_AUTO_CONFIRM=1
export LESS="-R -X -F"
export PAGER="cat"
export MANPAGER="cat"

# ============================================================================
# ë””ë²„ê¹… ë° ë¡œê¹… ì œì–´
# ============================================================================
export DEBUG=""
export VERBOSE=0
export QUIET=1

# ============================================================================
# ì‹œìŠ¤í…œë³„ ìë™í™” ì„¤ì •
# ============================================================================

# macOS íŠ¹í™” ì„¤ì •
if [[ "$OSTYPE" == "darwin"* ]]; then
    export MACOS_AUTO_MODE=true
    export SYSTEM_INTEGRITY_PROTECTION_AUTO=true
fi

# Linux íŠ¹í™” ì„¤ì •
if [[ "$OSTYPE" == "linux-gnu"* ]]; then
    export LINUX_AUTO_MODE=true
    export SYSTEMD_AUTO_MODE=true
fi

# Windows WSL íŠ¹í™” ì„¤ì •
if [[ -n "$WSL_DISTRO_NAME" ]]; then
    export WSL_AUTO_MODE=true
    export WINDOWS_AUTO_MODE=true
fi

# ============================================================================
# ê°œë°œ ë„êµ¬ ìë™í™”
# ============================================================================
export WEBPACK_CLI_SKIP_IMPORT_CHECK=true
export ESLINT_NO_DEV_ERRORS=true
export JEST_SILENT=true
export JEST_NO_COVERAGE=false

# ============================================================================
# í™•ì¸ í”„ë¡¬í”„íŠ¸ ìë™ ì‘ë‹µ íŒ¨í„´ (í™•ì¥)
# ============================================================================
export AUTO_CONFIRM_PATTERNS="y|yes|Y|YES|í™•ì¸|ê³„ì†|ì§„í–‰|ì„¤ì¹˜|ì—…ë°ì´íŠ¸|ì‚­ì œ|ë®ì–´ì“°ê¸°|ë°˜ë³µ|ì¬ì‹œì‘|ë‹¤ì‹œì‹œë„"
export AUTO_REPEAT_PATTERNS="ê³„ì† ë°˜ë³µí•˜ì‹œê² ìŠµë‹ˆê¹Œ|ë°˜ë³µí•˜ì‹œê² ìŠµë‹ˆê¹Œ|ë‹¤ì‹œ ì‹œë„í•˜ì‹œê² ìŠµë‹ˆê¹Œ|ì¬ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ"
export AUTO_KOREAN_PATTERNS="ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ|ì„¤ì¹˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ|ì—…ë°ì´íŠ¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ|ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ|ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ"

# ============================================================================
# í•¨ìˆ˜ ì •ì˜ - ìë™ ì‘ë‹µ ë„ìš°ë¯¸
# ============================================================================

# ìë™ yes ì‘ë‹µ í•¨ìˆ˜
auto_yes() {
    echo "y" | "$@"
}

# ìë™ í™•ì¸ ì—†ì´ ëª…ë ¹ ì‹¤í–‰
no_confirm() {
    CI=true npm_config_yes=true DEBIAN_FRONTEND=noninteractive "$@"
}

# ë°±ê·¸ë¼ìš´ë“œ ìë™ ì‹¤í–‰
auto_background() {
    nohup "$@" > /dev/null 2>&1 &
}

# ì¡°ìš©í•œ ìë™ ì‹¤í–‰
auto_silent() {
    "$@" > /dev/null 2>&1
}

# ============================================================================
# ì•¨ë¦¬ì–´ìŠ¤ ì •ì˜ - ìë™í™”ëœ ëª…ë ¹ë“¤
# ============================================================================
alias npm-auto="npm_config_yes=true npm"
alias npm-silent="npm --silent --no-audit --no-fund"
alias git-auto="GIT_TERMINAL_PROMPT=0 git"
alias install-auto="auto_yes"
alias confirm-auto="echo y |"

# VS Code ê´€ë ¨ ìë™í™”
alias code-auto="code --disable-extensions --disable-workspace-trust"
alias code-silent="code --silent"

# ============================================================================
# ì‹œì‘ ì‹œ ìë™ ì„¤ì • ì ìš©
# ============================================================================

# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ìë™ í™œì„±í™”
if [[ -f "package.json" && -d ".vscode" ]]; then
    echo "ğŸš€ AI Development System - í„°ë¯¸ë„ ìë™í™” í™œì„±í™”ë¨"
    echo "ğŸ“‹ ëª¨ë“  í™•ì¸ í”„ë¡¬í”„íŠ¸ê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤."
    
    # npm ì„¤ì • ìë™ ì ìš©
    npm config set yes true 2>/dev/null || true
    npm config set audit false 2>/dev/null || true
    npm config set fund false 2>/dev/null || true
    
    # Git ì„¤ì • ìë™ ì ìš©
    git config --global init.defaultBranch main 2>/dev/null || true
    git config --global push.default simple 2>/dev/null || true
    git config --global pull.rebase false 2>/dev/null || true
fi

# ============================================================================
# ë„ì›€ë§ í•¨ìˆ˜
# ============================================================================
show_auto_help() {
    echo "=== AI Development System - Terminal Automation ==="
    echo ""
    echo "ìë™í™”ëœ ëª…ë ¹ë“¤:"
    echo "  npm-auto install    - ìë™ í™•ì¸ìœ¼ë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜"
    echo "  npm-silent start    - ì¡°ìš©íˆ ì„œë²„ ì‹œì‘"
    echo "  git-auto commit     - ìë™ Git ì»¤ë°‹"
    echo "  auto_yes <command>  - ëª…ë ¹ì— ìë™ y ì‘ë‹µ"
    echo "  no_confirm <cmd>    - í™•ì¸ ì—†ì´ ëª…ë ¹ ì‹¤í–‰"
    echo "  auto_background     - ë°±ê·¸ë¼ìš´ë“œ ìë™ ì‹¤í–‰"
    echo "  auto_silent         - ì¡°ìš©í•œ ìë™ ì‹¤í–‰"
    echo ""
    echo "í™˜ê²½ ë³€ìˆ˜:"
    echo "  CI=true            - ì§€ì†ì  í†µí•© ëª¨ë“œ"
    echo "  npm_config_yes     - NPM ìë™ í™•ì¸"
    echo "  COPILOT_AUTO_ACCEPT - Copilot ìë™ ìˆ˜ë½"
    echo ""
}
